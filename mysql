Be&y59ljiwY>
6
mysql -h ip -P port -u user -p 
输入密码
7
1.数据库基础
mysql实际上是一种网络服务 
mysqld:服务端 d表示守护进程
mysql: 客户端
mysql本质上基于C(mysql)S(mysqld)模式的一种网络服务

netstat -nltp
tcp6       0      0 :::3306                 :::*                    LISTEN      5673/mysqld         
mysql是一套给我们提供数据存取服务的网络程序。

数据库一般指的是，在磁盘或者内存中存储的特定结构组织的数据。
将来磁盘上存储的一套数据库方案。
数据库--磁盘
数据库服务--mysqld

存储数据的时候，文件就可以了，为什么还需要数据呢？
  1.一般的文件确实给我们提供了数据的存储功能，但是文件并没有提非常好的数据管理能力(用户角度)。数据管理，数据内容。
  2.数据库本质：对数据内容存储的一套解决方案。 你给我字段或者要求，我直接给你结果就行

文件缺点
  安全性问题
  查询和管理
  存储不利
  控制不方便

存储解决方案。

             服务器         磁盘
  mysql      mysqld         数据库文件

8
见见数据库
1.建立一个数据库
2.建立一张表结构
3.插入数据
看看在Linux是如何工作的

1.建立数据库，本质就是linux下的一个目录 /var/lib/mysql/
  create database helloworld;
2.使用表
  use helloworld;
3.创建表，linux下创建一个文件即可

  mysql> create table student(
    -> name varchar(32),
    -> age int,
    -> gender varchar(2)
    -> );

4.数据插入
insert into student (name,age,gender) values('zhangs',11,'m');
5.查看数据
	select * from student;
  
现在只需要sql指令，操作数据，具体操作mysqld帮你维护。
数据库本质也是文件，只不过这些文件并不有程序员直接操作，mysqld帮你操作。


9
常见数据库
  My Structured Query Language

10

  mysql   mysqld  数据库
                  DB    表
  Client  MySql   DB    表
                  DB    表
11
  MySql数据逻辑存储:excel
+--------+------+--------+
| name   | age  | gender |
+--------+------+--------+
| zhangs |   11 | m      |
| zhangs |   11 | m      |
| zhangs |   11 | m      |
+--------+------+--------+
3 rows in set (0.00 sec)


12
MySql架构

   client
  Connect Pool
  翻译sql语句
  存储引擎(类型计算机体结构的驱动) 应用层。

  文件系统。内核层。

MySql其实是一个文件系统


13
SQL语句分类
DDL data definition language 
  create drop alter

DML data manipulation language
  insert delete update

DCL data control language
  grant revoke commit


13
存储引擎
show engines;
innodb存储引擎。

总结：
  1.数据库是什么
  2.mysql
  3.mysqld
  数据库和表
  mysql层

14
 创建数据库
 增删查改
  

15
  创建数据库
  show databases;                             对应linux的创建目录
  create database [if not exists] helloworld  上面呢      /var/lib/mysql/
  drop database database_name;                删除数据库  删除目录
  
数据库的编码
1.数据库编码集   存数据 编码集  数据库未来存储数据
2.数据校验集集合 取数据 校验集  读取数据

数据库无论对数据做任何操作，都必须保证操作和编码必须是编码一直的。

16
  show varivales like 'character_set_database';
  show variables like 'collation_database';
  show variables like 'collation_%';
  show charset;
  show collation;
  存取的规则必须一一致的。
  

17
  一般不会设置编码 校验规则。

19
  数据库的删除 不建议直接删除数据库
  drop database databae_name;
  
  查数据库
  show databases;

  使用数据库
  use database_name;

  查看当前在那个数据库里面
  select database();

  
  修改数据库
  alter database database_name charset= collate=;

  show create database d1;
  上面是对数据库的增删查改

20
  数据备份和恢复
  mysqldump -P3306 -u root -p -B test1 > test1.sql;
  source /.. test1.sql;
  备份其实是备份的操作。
  
  mysqldump -P3306 -u root -p -B test1 table_1 table_2 > test1.sql;


21
  表的操作

22创建表
create table if not exists table_name(
    ); character set . collate , engine 

存储引擎文件不一样和搜索方法不一样的。
数据和索引的位置是否一样的

23数据
  select database();查看在那个表里面呢
  desc table_name; 查看表数据
  show create table table_name \G; 当时是如何创建表的。
  
24
  修改表
  alter table table_name reame to new_name;修改表名称
  insert into user() values();              插入数据

  alter table table_name add 名称 类型     新增字段
  alter table table_name modify 名称 属性  重新修改提交属性
  alter table table_name drop 名称         删除列
  alter table table_name change 属性 新属性 修改属性   

25
 删除表
 drop table table_name;

26
  数据类型
  
  数值类型
  文本二进制类型
  时间日期
  String类型

  数值类型
  tiny   int 1字节
  small  int 2字节
  medium int 3字节
         int 4字节
  big    int 8字节
  tiny   u int 1字节
  small  u int 2字节
  medium u int 3字节
         u int 4字节
  big    u int 8字节

约束
  插入数据超出范围 mysql直接拒绝 语言层面会发生截断的
  反过来，插入数据成功了一定就是合法的了。
  所以，mysql中，一把而言，数据类型本身也是一种：约束。倒逼程序员，让程序员尽肯能进行正确的
  插入 
  约束：约束使用者
  另外，你不是一个很好的使用者，mysql也能保证插入数据的合法性。
  就能够保证数据库中的数据是可预期，完整的。
约束
约束
约束
  
  mysql表建立属性列：列名称 类型在后面。
unsigned使用看场景，例如年龄。
这么多的数据类型，性能和使用之间做平衡的。


27

bit类型
默认一个比特位
最大64个比特位
select id, hex(online) from t3; 一般是不能显示出来 是ASCII存储的
你直接插入 a 97数据 一样的。

28
浮点类型
float
float(m,n)
  float(4,2)四位，精度是2 (-99.99, 99.99)
  mysql默认四舍五入
  四舍五入也不能超过范围的

  float(4,2) unsigned (0, 99.99);

29
  decimal  规避精度损失

30
  字符串类型
  char固定长度字符串
  char(L)最大长度255；
  超过字符串长度就阻止了。

  char的字符单位 就是纯粹的字符
  中国人三个字符
  最大255个字符
  utf_8一个汉字三个字节的

  
31
  varchar
  边长字符串65535字节

  char    有多少用多少  类似数组
  varchar 上线不能超过  string

32
日期：年月日         生日
时间：年月日time     发表评论
时间戳：timestamp    需要自动变化的

update t11 set t1='2000-2-10';

timestamp记录任何一次操作的时间戳。
datetime时间不会变化的固定时间的
记录你的入职事时间，基本上不能改的
政府记录你的出生日期，基本上不会修改的
date只是用来记录日期的，记住你男朋友女朋友的生日。
结合具体的引用场景来记录时间的


33
枚举和集合
枚举
enum数据类型 只能选择一个
set数据类型  多个选择多个

枚举类型是从常量0开始的。
集合多个插入时注意不要空格的，直接逗号分隔符。

NULL和空白
NULL表示没有
空白表示空串

集合是个数的比特位
可以字面值
可以比特位的计算

后面理解为为什么一开始

34
  find_in_set
枚举类型的查找
select * from t13 where gender='男';
select * from t13 where gender=1;

只有羽毛球的选手
select from t13 where hobby='羽毛球';
这里是严格按照标准选择的

find_in_set();
对应的元素是否在集合里面的。



select * from t13 where find_in_set('代码', hobby); 有代码
select * from t13 where find_in_set( '代码', hobby) and find_in_set('足球', hobby); 有足球和代码

35
表的约束：表中一定要有各种约束，通过约束，让我们未来插入数据库表中的数据是复合预期的。
约束本质是通过技术手段，插入正确的数据。
反过来，站在mysql的视角，凡是插入进来的数据，都是符合数据约束的！

约束的最终目标：保证数据的完整性和可预期性。
需要更多的约束条件

36
空属性
字段的属性 null
字段的属性 not null

class_name varchar(20) not null 不能插入NULL
只要设置not null。必须存放数据的，不能是NULL。

37
default 默认值

如果设置了，用户将来插入了，有具体的数据，就插入，没有就是用默认值。
如果我们没有明确指定一列


